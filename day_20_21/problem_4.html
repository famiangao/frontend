<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
    <button id="fade-btn">淡出</button>
    <script>
        var fadeObj = document.getElementById("fade-obj");
        var fadeBtn = document.getElementById("fade-btn");
        fadeBtn.addEventListener("click", fadeOut);
        function fadeOut(){

            if(fadeObj.style.opacity == '' || fadeObj.style.opacity > 1){

                fadeObj.style.opacity = 1;
                var start = setInterval(() => {

                fadeObj.style.opacity -= 0.2 ;
                fadeBtn.disabled = true;

                if( fadeObj.style.opacity < 0){
                    clearInterval(start);
                    fadeBtn.disabled = false;
                    fadeBtn.innerHTML = "淡入";
                }
                }, 100);
            }else if(fadeObj.style.opacity < 0){

                fadeObj.style.opacity = 0;

                var start = setInterval(() => {

                    fadeObj.style.opacity =  Number(fadeObj.style.opacity) + 0.2;
                    fadeBtn.disabled = true;

                    if( fadeObj.style.opacity > 1){
                        clearInterval(start);
                        fadeBtn.disabled = false;
                        fadeBtn.innerHTML = "淡出";
                        }
                    }, 100);
            }
        }
    </script>
</body>

</html>